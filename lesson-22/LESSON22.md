# LESSON 22

## Задание №1

Создать класс Topology, который представляет топологию сети. При создании экземпляра класса, как аргумент передается словарь, который описывает топологию. 
Словарь может содержать дублирующиеся соединения. Тут дублирующиеся соединения, это ситуация когда в словаре есть два соединения:
```python
("R1",  "Eth0/0"): ("SW1", "Eth0/1")
("SW1", "Eth0/1"): ("R1",  "Eth0/0")
```

Задача оставить только один из этих линков в итоговом словаре, не важно какой. В каждом экземпляре должна быть создана переменная topology, в которой содержится
словарь топологии, но уже без дублей. Переменная topology должна содержать словарь без дублей сразу после создания экземпляра. 
Пример создания экземпляра класса:
```python
In[2]:top = Topology(topology_example)
```
После этого, должна быть доступна переменная topology:
```python
In[3]:top.topology
Out[3]:
{('R1', 'Eth0/0'): ('SW1', 'Eth0/1' ),
 ('R2', 'Eth0/0'): ('SW1', 'Eth0/2' ),
 ('R2', 'Eth0/1'): ('SW2', 'Eth0/11'),
 ('R3', 'Eth0/0'): ('SW1', 'Eth0/3' ),
 ('R3', 'Eth0/1'): ('R4',  'Eth0/0' ),
 ('R3', 'Eth0/2'): ('R5',  'Eth0/0' )}
```
Словарь, который описывает топологию:
```python
topology_example = {('R1',  'Eth0/0'): ('SW1', 'Eth0/1' ),
		    ('R2',  'Eth0/0'): ('SW1', 'Eth0/2' ),
		    ('R2',  'Eth0/1'): ('SW2', 'Eth0/11'),
		    ('R3',  'Eth0/0'): ('SW1', 'Eth0/3' ),
		    ('R3',  'Eth0/1'): ('R4',  'Eth0/0' ),
		    ('R3',  'Eth0/2'): ('R5',  'Eth0/0' ),
		    ('SW1', 'Eth0/1'): ('R1',  'Eth0/0' ),
		    ('SW1', 'Eth0/2'): ('R2',  'Eth0/0' ),
		    ('SW1', 'Eth0/3'): ('R3',  'Eth0/0' )}
```

## Задание №2

Скопировать класс Topology из задания №1 и изменить его. Перенести функциональность удаления дублей в метод _normalize. При этом метод `__init__` должен выглядеть таким образом:
```python
class Topology:
	def __init__(self, topology_dict):
		self.topology = self._normalize(topology_dict)
```

## Задание №3

Изменить класс Topology из задания №1 или задания №2. Добавить метод delete_link, который удаляет указанное соединение. Метод должен удалять и обратное соединение, если оно есть (ниже пример).
Если такого соединения нет, выводится сообщение "Такого соединения нет".
Создание топологии:

```python
In [7]: t = Topology(topology_example)
In [8]: t.topology
Out[8]:
{('R1', 'Eth0/0'): ('SW1', 'Eth0/1'),
 ('R2', 'Eth0/0'): ('SW1', 'Eth0/2'),
 ('R2', 'Eth0/1'): ('SW2', 'Eth0/11'),
 ('R3', 'Eth0/0'): ('SW1', 'Eth0/3'),
 ('R3', 'Eth0/1'): ('R4',  'Eth0/0'),
 ('R3', 'Eth0/2'): ('R5',  'Eth0/0')}
```

Удаление линка:
```python
In [9]: t.delete_link(('R3', 'Eth0/1'), ('R4', 'Eth0/0'))
In [10]: t.topology
Out[10]:
{('R1', 'Eth0/0'): ('SW1', 'Eth0/1'),
 ('R2', 'Eth0/0'): ('SW1', 'Eth0/2'),
 ('R2', 'Eth0/1'): ('SW2', 'Eth0/11'),
 ('R3', 'Eth0/0'): ('SW1', 'Eth0/3'),
 ('R3', 'Eth0/2'): ('R5',  'Eth0/0')}
```

В словаре есть запись ('R3', 'Eth0/2'): ('R5', 'Eth0/0'), но вызов delete_link с указанием ключа и значения в обратном порядке, должно удалять соединение:
```python
In [11]: t.delete_link(('R5', 'Eth0/0'), ('R3', 'Eth0/2'))
In [12]: t.topology
Out[12]:
{('R1', 'Eth0/0'): ('SW1', 'Eth0/1'),
 ('R2', 'Eth0/0'): ('SW1', 'Eth0/2'),
 ('R2', 'Eth0/1'): ('SW2', 'Eth0/11'),
 ('R3', 'Eth0/0'): ('SW1', 'Eth0/3')}
```

Если такого соединения нет, выводится сообщение:
```python
In [13]: t.delete_link(('R5', 'Eth0/0'), ('R3', 'Eth0/2'))
Такого соединения нет
```

## Задание №4

Изменить класс Topology из задания №3. Добавить метод delete_node, который удаляет все соединения с указаным устройством. Если такого устройства нет, выводится сообщение "Такого устройства нет".

Создание топологии:
```python
In [1]: t = Topology(topology_example)
In [2]: t.topology
Out[2]:
{('R1', 'Eth0/0'): ('SW1', 'Eth0/1'),
 ('R2', 'Eth0/0'): ('SW1', 'Eth0/2'),
 ('R2', 'Eth0/1'): ('SW2', 'Eth0/11'),
 ('R3', 'Eth0/0'): ('SW1', 'Eth0/3'),
 ('R3', 'Eth0/1'): ('R4', 'Eth0/0'),
 ('R3', 'Eth0/2'): ('R5', 'Eth0/0')}
```

Удаление устройства:
```python
In [3]: t.delete_node('SW1')
In [4]: t.topology
Out[4]:
{('R2', 'Eth0/1'): ('SW2', 'Eth0/11'),
 ('R3', 'Eth0/1'): ('R4', 'Eth0/0'),
 ('R3', 'Eth0/2'): ('R5', 'Eth0/0')}
```

Если такого устройства нет, выводится сообщение:
```python
In [5]: t.delete_node('SW1')
Такого устройства нет
```